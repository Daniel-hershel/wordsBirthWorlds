<!DOCTYPE html>
<html >
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ActOne:Reality </title>
<link href="https://fonts.googleapis.com/css?family=Oswald:300,500,600,700" rel="stylesheet">
<!-- <link rel="stylesheet" href="style.css"> -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

<!-- <script src="textualizer.min.js" type="text/javascript"></script> -->

<script src="oridomi.min.js" type="text/javascript"></script>

<script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/255459/fabric.js"></script>

<!-- <script src="substituteteacher.min.js"></script> -->
<script src="jquery/jquery.slabtext.min.js"></script>

<script>
// Function to slabtext the H1 headings
function slabTextHeadlines() {
$("h1").slabText({
// Don't slabtext the headers if the viewport is under 380px
"viewportBreakpoint":380
});
};
// Load fonts using google font loader
var WebFontConfig = {
google: { families: [ 'Open+Sans:400,700:latin', 'Oswald:700:latin' ] },
// slabText the headers when the font has finished loading (or not)
fontactive: slabTextHeadlines,
fontinactive: slabTextHeadlines
};
(function() {
var wf = document.createElement('script');
wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
wf.type = 'text/javascript';
wf.async = 'true';
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(wf, s);
})();
</script>


<style>
@font-face { font-family: 'oswald'; font-weight: bold; src: url('oswald/Oswald-Bold.ttf');}

body {
padding: 5%;

background:#fcfcfc;
font-size: 16px;
color:#444;
/*font-family: 'Archivo Black', sans-serif;*/
font-family: Oswald;
}

.realityHolder{
  border: 5px solid #444;
    top: 9%;
position: relative;
padding-top: 50px;
}
.canvasHolder{
  position:absolute;

  opacity:0;

}


.context{
  opacity:1;
  /*float:right;*/
  width: 55%;
}

a{
  width: 300px;
  height:200px;
  border: 5px solid #444;
  padding: 25px;
  color:#D01D24 ;
font-family: Oswald;
  
}


.nav{

  padding-bottom: 50px;
}

#canvas{
  position:absolute;
}

</style>
</head>
<body>
<div class = "nav">
<a href = "actTwo.html"> Act Two</a>
<a href = "actThree.html"> Act Three</a>
<a href = "index.html"> Home</a>
<div>

<div class = "realityHolder">
<div class = "paper">
<!-- <div class="demo demo2"> -->
  <!-- <section id="demos"> -->
<div class = "context">
There is this way in which reality comes to feel like the bounds of what is possible

</div>
<h1>REALITY</h1>


</div>

<div class = "canvasHolder">
<canvas id="canvas" class = "theCanvas" width="1000" height="850" style=""></canvas>
</div>

</div>


<script src="libraries/p5.js" type="text/javascript"></script>
<script src="libraries/p5.dom.js" type="text/javascript"></script>
<!-- <script src="hollis.js" type="text/javascript"></script> -->

<script src="jquery/jquery.fittext.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.4.3/velocity.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.4.3/velocity.ui.min.js"></script>
<script src="jquery/jquery.blast.min.js"></script>
<script src="jquery/jquery.lettering.js"></script>
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script src="jquery/jquery.shuffleLetters.js"></script>

<!-- <script src="sketch.js" type="text/javascript"></script> -->


<!-- <script src="slabtext/js/jquery.slabtext.min.js"></script> -->
<!-- <script src="jquery.slabtext.min.js"></script> -->

<script>

//magic snippet for all permutations
// from https://jsfiddle.net/user/magic2/fiddles/
// var log = function() {
//     var body = document.getElementsByTagName('body');
//     var span = document.createElement('span');
//     for(var i = 0, l = arguments.length; i < l; i++) {
//         span.innerHTML += arguments[i] + ' ';
//     }
//     span.innerHTML += '</br>';
//     body[0].appendChild(span);
// }

// var permute = function(s, firstLetterIndex) {
//     firstLetterIndex = firstLetterIndex || 0;
    
//     if (firstLetterIndex == s.length) {
//         log(s);
//         return;
//     }
    
//     for(var i = firstLetterIndex, l = s.length; i < l; i++) {
//         var ch1 = s[i], ch2 = s[firstLetterIndex], s1;
//         if (i > firstLetterIndex) {
//             s1 = s.substring(0, firstLetterIndex) + ch1 + s.substring(firstLetterIndex + 1, i) + ch2 + s.substring(i + 1);
//         } else {
//             s1 = s;
//         }
//         //log('f: ', firstLetterIndex, 'i: ', i, 's1: ', s1);
//         permute(s1, firstLetterIndex + 1);
//     }
// }
// //I need to do this through the variable and then draw to canvas through raphael js-or this might be a good place for a charting library or something to make a matrix of the possibliites
// permute("reality")
</script>

<script>
var folded = new OriDomi('.paper', {
  vPanels:         5,     // number of panels when folding left or right (vertically oriented)
  hPanels:         3,     // number of panels when folding top or bottom
  speed:           1200,  // folding duration in ms
  ripple:          2,     // backwards ripple effect when animating
  shadingIntesity: .5,    // lessen the shading effect
  perspective:     800,   // smaller values exaggerate 3D distortion
  maxAngle:        40,    // keep the user's folds within a range of -40 to 40 degrees
  shading:         'soft' // change the shading type
});
// folded.curl(50).collapse().setSpeed(2000).stairs(-29).foldUp().unfold();


folded.curl(-50, 'top');
// folded.fracture(48);s

// folded.ramp(14, function() {
//   alert('A callback as a second argument...');
// });
// //function to have element curl fold on window load
// folded.curl(-50, 'top', function(event, instance) {
//   // arguments are the transition event and the OriDomi instance
//   alert('It seems my folding days are through.');
// });

window.addEventListener('load', function onLoad() {

// function to make fabric reality
var poem = ["R", "E", "A", "L", "I", "T", "Y"];

//I really want a simple equation that counts the number of characters and multiplies that by x where x is the number per character that a string would take up on a grid
var distances = [20, 120, 200, 390];
var distance = 20;
var canvas = new fabric.Canvas('canvas');
// var instructions = new fabric.Text("Click on any of the words to manipulate them ", {
// fontFamily:  'Oswald',
// fontSize:20,
// fill: '#444',
//   left: 10,
//   hasControls: true,
//   hasBorders: true,
//   top: 300});

// canvasTwo.add(instructions)

var yDown = 50;
var xAcross = 120;
//how to I update this so that each time a new thing is added to the array it redraws or draws the new One
//It would be the equivelant of update in D3
for (i = 0; i < poem.length; i++) {
  var text = new fabric.Text(poem[i], {
    fontFamily: 'oswald',
    fontSize: 272,
    fill: '#444',
    left: distance,
    // top: 50*i });
    top: yDown
  });

         text.toObject = function() {
                return {
                    class: 'slabtext'
                };
            };



distance += 105;
  // xAcross = distance[i];
  // yDown = yDown+10;

  canvas.add(text);
  canvas.renderAll();


    //     text.hasControls = true;
    // text.hasBorder = true;
}



text.hasControls = true;
text.hasBorder = true;
canvas.selectionColor = 'rgba(0,255,0,0.3)';
canvas.selectionBorderColor = 'red';
canvas.selectionLineWidth = 5;
})

// function to make the bod dissapear
$paper = $('.paper')

$paper.click(function(){

  folded.foldUp();
$realityHolder = $('.realityHolder')
$canvasHolder = $('.canvasHolder')
 $context=  $('.context')

//  $context
// .velocity({ opacity:1}, { loop: 0 });


 $realityHolder
.velocity({ border: '0px' },  { loop: 0 });

$canvasHolder
.velocity({ border: '0px' },  { loop: 0 })
.velocity({ opacity:1}, { loop: 0 });
// .velocity({ opacity:1, fontSize: "10em" }, { loop: 1 });
 

// permutations of reality I need to figure out how to make them fabric text objects
// var log = function() {
//     var body = document.getElementsByTagName('body');
//     var span = document.createElement('span');
//     for(var i = 0, l = arguments.length; i < l; i++) {
//         span.innerHTML += arguments[i] + ' ';
//     }
//     span.innerHTML += '</br>';
//     body[0].appendChild(span);
// }

// var permute = function(s, firstLetterIndex) {
//     firstLetterIndex = firstLetterIndex || 0;
    
//     if (firstLetterIndex == s.length) {
//         log(s);
//         return;
//     }
    
//     for(var i = firstLetterIndex, l = s.length; i < l; i++) {
//         var ch1 = s[i], ch2 = s[firstLetterIndex], s1;
//         if (i > firstLetterIndex) {
//             s1 = s.substring(0, firstLetterIndex) + ch1 + s.substring(firstLetterIndex + 1, i) + ch2 + s.substring(i + 1);
//         } else {
//             s1 = s;
//         }
//         //log('f: ', firstLetterIndex, 'i: ', i, 's1: ', s1);
//         permute(s1, firstLetterIndex + 1);
//     }
// }
// //I need to do this through the variable and then draw to canvas through raphael js-or this might be a good place for a charting library or something to make a matrix of the possibliites
// permute("reality")
  })



// velocity()

</script>



</body>
</html>
